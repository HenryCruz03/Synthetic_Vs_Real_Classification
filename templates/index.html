{% extends "base.html" %}
{% block content %}
<div class="upload-container">
  <div class="upload-header">
    <h2>Upload Your Image</h2>
    <p>Get instant AI-powered classification to determine if your image is synthetic or real</p>
  </div>

  {% if error %}
  <div class="alert">
    <strong>⚠️ Error:</strong> {{ error }}
  </div>
  {% endif %}

  <form action="/" method="POST" enctype="multipart/form-data" id="upload-form">
    <div id="drop-area" role="button" tabindex="0" aria-label="Upload image by dragging and dropping or clicking to browse">
      <div class="upload-icon">📸</div>
      <p id="drop-text">Drag & drop an image here, or <span onclick="document.getElementById('image').click()">browse files</span></p>
      <p class="file-info">Supported formats: JPG, PNG, WEBP (Max 10MB)</p>
      <input type="file" id="image" name="image" accept="image/jpeg,image/jpg,image/png,image/webp" required aria-label="Select image file">
      <img id="image-preview" src="" alt="Image preview" style="display:none;"/>
    </div>
    
    <div class="upload-actions">
      <button type="submit" id="submit-btn" disabled>
        <span class="btn-text">Classify Image</span>
        <span class="btn-loading" style="display:none;">⏳ Analyzing...</span>
      </button>
    </div>
  </form>

  <div id="spinner" style="display:none;">
    <div class="spinner-content">
      <div class="spinner-icon">🤖</div>
      <p>AI is analyzing your image...</p>
      <p class="spinner-subtitle">This may take a few seconds</p>
    </div>
  </div>
</div>

<div class="features">
  <h3>How it works</h3>
  <div class="feature-grid">
    <div class="feature-item">
      <div class="feature-icon">📤</div>
      <h4>Upload</h4>
      <p>Drag and drop or select an image file</p>
    </div>
    <div class="feature-item">
      <div class="feature-icon">🤖</div>
      <h4>Analyze</h4>
      <p>AI examines the image for synthetic patterns</p>
    </div>
    <div class="feature-item">
      <div class="feature-icon">📊</div>
      <h4>Results</h4>
      <p>Get confidence scores and classification</p>
    </div>
  </div>
</div>
{% endblock %}