{% extends "base.html" %}
{% block content %}
<div id ="spinner" style=" display:none; margin-top:1rem;color:#1e40af; font-weight:bold;">
  <span style="font-size:2em;">⏳</span> Analyzing your image ...
</div>
{% if error %}
      <div class="alert" style="color:#b91c1c; background-color:#fee2e2; border:1px solid #fee2e2; padding:.75rem; border-radius:5px; margin-bottom:1em">
          <strong>Error:</strong> {{ error }}
      </div>
  {% endif %}
<form action="/" method="POST" enctype="multipart/form-data" id="upload-form" style="margin-bottom: 2em;">
  <div id="drop-area" style="border:2px dashed #3cfd7c; border-radius:10px; padding:2em; text-align:center; cursor:pointer; background:#f9fafb;">
    <p id="drop-text">Drag & drop an image here, or <span style="color:#2563eb; text-decoration:underline; cursor:pointer;" onclick="document.getElementById('image').click()">browse</span></p>
    <input type="file" id="image" name="image" accept="image/*" style="display:none;" required>
    <img id="image-preview" src="" style="display:center;max-width: 220px; margin-top:1em; border-radius:6px;"/>
  </div>
  <button type="submit" style="margin-top: 1.5em;">Classify Image</button>
  <div id="spinner" style="display:none; margin-top:1rem; color:#1e40af; font-weight:bold;">
    <span style="font-size:2em;">⏳</span> Analyzing your image...
  </div>
</form>
  {% if error %}
      <p class="error">{{ error }}</p>
  {% endif %}
{% endblock %}